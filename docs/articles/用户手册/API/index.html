<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Document
    </title>
    <link rel='stylesheet' href=../../../css/index.css />
    <link rel='stylesheet' href=../../../css/bnf.css /><link rel='stylesheet' href=../../../css/c.css /><link rel='stylesheet' href=../../../css/css.css /><link rel='stylesheet' href=../../../css/diff.css /><link rel='stylesheet' href=../../../css/dot.css /><link rel='stylesheet' href=../../../css/json.css /><link rel='stylesheet' href=../../../css/lua.css /><link rel='stylesheet' href=../../../css/python.css /><link rel='stylesheet' href=../../../css/riscvasm.css /><link rel='stylesheet' href=../../../css/rust.css /><link rel='stylesheet' href=../../../css/shell.css /><link rel='stylesheet' href=../../../css/toml.css /><link rel='stylesheet' href=../../../css/txt.css /><link rel='stylesheet' href=../../../css/verilog.css /><link rel='stylesheet' href=../../../css/x86asm.css /><link rel='stylesheet' href=../../../css/xml.css /><link rel='stylesheet' href=../../../css/yaml.css />
    <link rel="icon" href="https://raw.githubusercontent.com/learner-lu/picbed/master/logo.png">
</head>

<body class="light">
    <a href="https://github.com/luzhixing12345/syntaxlight.git" target="_blank" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <div class="header-navigator"><ul><li><a href="#h1-0">API</a><ul><li><a href="#h2-1">解析代码</a></li></ul><ul><li><a href="#h2-2">导出 css</a></li></ul><ul><li><a href="#h2-3">支持语言</a></li></ul><ul><li><a href="#h2-4">网页预览</a></li></ul><ul><li><a href="#h2-5">高级用法</a><ul><li><a href="#h3-6">高亮 line/token</a></li></ul><ul><li><a href="#h3-7">ast</a></li></ul></li></ul></li></ul></div><div class='markdown-body'><h1 id="h1-0">API</h1><p>欢迎使用 syntaxlight, syntaxlight 是一个用于解析代码并生成 html 字符串的 python 库, 可以用于配合 Markdown 解析器完成网页 html 中 <code>&lt;pre&gt;&lt;code&gt;</code> 标签内的代码高亮</p><pre class="language-shell"><code><span class="Token ID">pip</span><span class="Token SPACE"> </span><span class="Token ID">install</span><span class="Token SPACE"> </span><span class="Token ID">syntaxlight</span></code></pre><h2 id="h2-1">解析代码</h2><p>syntaxlight 提供了两个常用的 API 用于解析代码, 分别用于解析源代码字符串和从文件中解析代码, 其中语言类型(language)可选, 如果不指定则根据文件后缀名自动判断</p><pre class="language-python"><code><span class="Token DEF">def</span><span class="Token SPACE"> </span><span class="Token FunctionName ID">parse</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token ID">text</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token STRR">str</span><span class="Token COMMA">,</span><span class="Token SPACE"> </span><span class="Token ID">language</span><span class="Token ASSIGN">=</span><span class="Token NONE">None</span><span class="Token COMMA">,</span><span class="Token SPACE"> </span><span class="Token ID">file_path</span><span class="Token ASSIGN">=</span><span class="Token NONE">None</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token SPACE"> </span><span class="Token POINT">-&gt;</span><span class="Token SPACE"> </span><span class="Token ID">ParseResult</span><span class="Token COLON">:</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Token DOT">.</span><span class="Token DOT">.</span><span class="Token DOT">.</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token DEF">def</span><span class="Token SPACE"> </span><span class="Token FunctionName ID">parse_file</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token ID">file_path</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token STRR">str</span><span class="Token COMMA">,</span><span class="Token SPACE"> </span><span class="Token ID">language</span><span class="Token ASSIGN">=</span><span class="Token NONE">None</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token SPACE"> </span><span class="Token POINT">-&gt;</span><span class="Token SPACE"> </span><span class="Token ID">ParseResult</span><span class="Token COLON">:</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Token DOT">.</span><span class="Token DOT">.</span><span class="Token DOT">.</span></code></pre><p>返回值 ParseResult 是一个包含解析结果的类, 其包含三部分内容:</p><pre class="language-python"><code><span class="Token CLASS">class</span><span class="Token SPACE"> </span><span class="Token ClassName ID">ParseResult</span><span class="Token COLON">:</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Token ID">success</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token BOOL">bool</span><span class="Token SPACE">  </span><span class="Token COMMENT"># 是否解析成功</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Token ID">parser</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token ClassInstantiation ID">Parser</span><span class="Token SPACE">  </span><span class="Token COMMENT"># 解析器</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Token ID">error</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token ClassInstantiation ID">Error</span><span class="Token SPACE">  </span><span class="Token COMMENT"># 错误信息(如果有)</span><span class="Token EOF">EOF</span></code></pre><p>其中 success 表示解析是否成功, parser 是一个包含解析结果的类, error 是一个包含错误信息的类, 如果没有错误则为 None.</p><p>对于代码语法正确的情况下 success 为 True, 此时可以直接通过 parser.to_html() 得到 html 字符串, 如果代码语法错误则 success 为 False, 此时 error 包含了错误信息, 可以直接打印 print(error) 查看错误位置, 默认错误输出格式如下所示</p><p><a data-lightbox="example-1" href="https://raw.githubusercontent.com/learner-lu/picbed/master/20250215200739.png"><img loading="lazy" src="https://raw.githubusercontent.com/learner-lu/picbed/master/20250215200739.png" alt="20250215200739" class="pic-big"></a></p><p>syntaxlight 会尽力进行解析, 即使出现错误也会以默认的关键字匹配的方式将所有代码段完成解析, 因此即使代码语法错误, 也可以得到一个较为完整的解析结果, 即无论 success 为 True/False, parser.to_html() 始终会返回解析结果的字符串</p><blockquote><p>考虑错误处理的一个完整的示例写法如下所示</p></blockquote><pre class="language-python"><code><span class="Token IMPORT">import</span><span class="Token SPACE"> </span><span class="Token ImportLibName ID">syntaxlight</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token ID">result</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token ID">syntaxlight</span><span class="Token DOT">.</span><span class="Token FunctionCall ID">parse_file</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token STR">&quot;a.c&quot;</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token LF">
</span><span class="Token IF">if</span><span class="Token SPACE"> </span><span class="Token NOT">not</span><span class="Token SPACE"> </span><span class="Token ID">result</span><span class="Token DOT">.</span><span class="Token ID">success</span><span class="Token COLON">:</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Token FunctionCall ID">print</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token ID">result</span><span class="Token DOT">.</span><span class="Token ID">error</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token LF">
</span><span class="Token FunctionCall ID">print</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token ID">result</span><span class="Token DOT">.</span><span class="Token ID">parser</span><span class="Token DOT">.</span><span class="Token FunctionCall ID">to_html</span><span class="Token BraceDepth-1 LPAREN">(</span><span class="Token BraceDepth-1 RPAREN">)</span><span class="Token BraceDepth-0 RPAREN">)</span></code></pre><pre class="language-python"><code><span class="Token IMPORT">import</span><span class="Token SPACE"> </span><span class="Token ImportLibName ID">syntaxlight</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token ID">code</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token STR">&quot;&quot;&quot;
#include &lt;stdio.h&gt;

int main() {
    printf(&quot;hello world!\n&quot;);
    return 0;
}
&quot;&quot;&quot;</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token ID">result</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token ID">syntaxlight</span><span class="Token DOT">.</span><span class="Token FunctionCall ID">parse</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token ID">code</span><span class="Token COMMA">,</span><span class="Token SPACE"> </span><span class="Token STR">&#x27;C&#x27;</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token LF">
</span><span class="Token IF">if</span><span class="Token SPACE"> </span><span class="Token NOT">not</span><span class="Token SPACE"> </span><span class="Token ID">result</span><span class="Token DOT">.</span><span class="Token ID">success</span><span class="Token COLON">:</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Token FunctionCall ID">print</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token ID">result</span><span class="Token DOT">.</span><span class="Token ID">error</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token LF">
</span><span class="Token FunctionCall ID">print</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token ID">result</span><span class="Token DOT">.</span><span class="Token ID">parser</span><span class="Token DOT">.</span><span class="Token FunctionCall ID">to_html</span><span class="Token BraceDepth-1 LPAREN">(</span><span class="Token BraceDepth-1 RPAREN">)</span><span class="Token BraceDepth-0 RPAREN">)</span></code></pre><h2 id="h2-2">导出 css</h2><p>syntaxlight 通常用于配合 Markdown 解析器完成网页 html 中 <code>&lt;pre&gt;&lt;code&gt;</code> 标签内的代码高亮, 因此为了正确高亮显示还需要导出 css 文件</p><p>syntaxlight 提供了一个 API 用于导出 css 文件, 其中 style 参数用于指定导出样式, 目前支持三种样式(vscode, one-dark-pro, monokai), 默认为 vscode</p><pre class="language-python"><code><span class="Token DEF">def</span><span class="Token SPACE"> </span><span class="Token FunctionName ID">export_css</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token ID">languages</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token ClassInstantiation ID">List</span><span class="Token BraceDepth-1 LSQUAR_PAREN">[</span><span class="Token STRR">str</span><span class="Token BraceDepth-1 RSQUAR_PAREN">]</span><span class="Token COMMA">,</span><span class="Token SPACE"> </span><span class="Token ID">export_dir</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token STRR">str</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token STR">&quot;.&quot;</span><span class="Token COMMA">,</span><span class="Token SPACE"> </span><span class="Token ID">style</span><span class="Token COLON">:</span><span class="Token SPACE"> </span><span class="Token STRR">str</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token STR">&quot;vscode&quot;</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token COLON">:</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Token DOT">.</span><span class="Token DOT">.</span><span class="Token DOT">.</span></code></pre><blockquote><p>当然您也可以自定义高亮颜色, 详见 <a href="../../用户手册\自定义颜色" target="_self">自定义高亮颜色</a></p></blockquote><p>假设我们希望导出 c, python, lua 三种语言的 css 文件到 css 目录下, 可以使用如下代码</p><pre class="language-python"><code><span class="Token IMPORT">import</span><span class="Token SPACE"> </span><span class="Token ImportLibName ID">syntaxlight</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token ID">syntaxlight</span><span class="Token DOT">.</span><span class="Token FunctionCall ID">export_css</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token BraceDepth-1 LSQUAR_PAREN">[</span><span class="Token STR">&#x27;c&#x27;</span><span class="Token COMMA">,</span><span class="Token STR">&#x27;python&#x27;</span><span class="Token COMMA">,</span><span class="Token STR">&#x27;lua&#x27;</span><span class="Token BraceDepth-1 RSQUAR_PAREN">]</span><span class="Token COMMA">,</span><span class="Token SPACE"> </span><span class="Token ID">export_dir</span><span class="Token ASSIGN">=</span><span class="Token STR">&#x27;./css&#x27;</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token LF">
</span><span class="Token COMMENT"># &lt;link rel=&#x27;stylesheet&#x27; href=./css/c.css /&gt;</span><span class="Token LF">
</span><span class="Token COMMENT"># &lt;link rel=&#x27;stylesheet&#x27; href=./css/python.css /&gt;</span><span class="Token LF">
</span><span class="Token COMMENT"># &lt;link rel=&#x27;stylesheet&#x27; href=./css/lua.css /&gt;</span></code></pre><p>最后将 css 文件路径引入你的 html 即可</p><h2 id="h2-3">支持语言</h2><p>当前版本的 syntaxlight 支持的语言类型有限, 可以参阅 <a href="../../用户手册\全部文法支持" target="_self">全部文法支持</a></p><p>您可以使用如下 api 查看当前版本 syntaxlight 支持的语言类型以及是否支持您期望的语言类型</p><pre class="language-python"><code><span class="Token IMPORT">import</span><span class="Token SPACE"> </span><span class="Token ImportLibName ID">syntaxlight</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token COMMENT"># 查看当前版本 syntaxlight 支持的语言类型</span><span class="Token LF">
</span><span class="Token FunctionCall ID">print</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token ID">syntaxlight</span><span class="Token DOT">.</span><span class="Token ID">supported_languages</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token IF">if</span><span class="Token SPACE"> </span><span class="Token ID">syntaxlight</span><span class="Token DOT">.</span><span class="Token FunctionCall ID">is_lanaguage_support</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token STR">&#x27;c&#x27;</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token COLON">:</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Token FunctionCall ID">print</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token STR">&quot;c is supported&quot;</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token LF">
</span><span class="Token ELSE">else</span><span class="Token COLON">:</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Token FunctionCall ID">print</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token STR">&quot;c is not supported&quot;</span><span class="Token BraceDepth-0 RPAREN">)</span></code></pre><h2 id="h2-4">网页预览</h2><p>syntaxlight 提供了一个简易的 API 用于预览结果: <code>syntaxlight.example_display</code></p><pre class="language-python"><code><span class="Token IMPORT">import</span><span class="Token SPACE"> </span><span class="Token ImportLibName ID">syntaxlight</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token ID">syntaxlight</span><span class="Token DOT">.</span><span class="Token FunctionCall ID">example_display</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token STR">&#x27;./test/c/2.c&#x27;</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token COMMENT"># syntaxlight.example_display(&#x27;./your-code.c&#x27;, style=&#x27;one-dark-pro&#x27;)</span></code></pre><p>运行可以得到 <code>syntaxlight_example/</code> 文件夹, 使用浏览器打开其中的 index.html 即可预览</p><h2 id="h2-5">高级用法</h2><h3 id="h3-6">高亮 line/token</h3><p>如果您希望对代码中的某一行或者某个 token 进行高亮强调, 例如</p><pre class="language-c"><code><span class="Token HASH">#</span><span class="Token Keyword Preprocess ControlLine INCLUDE">include</span><span class="Token Keyword Preprocess ControlLine SPACE"> </span><span class="Token HeaderName ControlLine BraceDepth-0 LANGLE_BRACE">&lt;</span><span class="Token String HeaderName STRING">stdio.h</span><span class="Token HeaderName ControlLine BraceDepth-0 RANGLE_BRACE">&gt;</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token Keyword BaseType TypeSpecifier FunctionReturnType INT">int</span><span class="Token Keyword BaseType TypeSpecifier FunctionReturnType SPACE"> </span><span class="Token Identifier DirectDeclaractor FunctionName FunctionName ID">main</span><span class="Token DirectDeclaractor Declarator BraceDepth-0 LPAREN">(</span><span class="Token DirectDeclaractor Declarator BraceDepth-0 RPAREN">)</span><span class="Token DirectDeclaractor Declarator SPACE"> </span><span class="Token CompoundStatement Function BraceDepth-0 LCURLY_BRACE">{</span><span class="Token CompoundStatement Function LF">
</span><span class="Token CompoundStatement Function HighlightLine SPACE">    </span><span class="Token Identifier PrimaryExpression FunctionCall HighlightLine ID">printf</span><span class="Token PostfixExpression UnaryExpression BraceDepth-1 HighlightLine LPAREN">(</span><span class="Token String HighlightLine STRING">&quot;hello world!</span><span class="Token Control String HighlightLine STRING">\n</span><span class="Token String HighlightLine STRING">&quot;</span><span class="Token PostfixExpression UnaryExpression BraceDepth-1 HighlightLine RPAREN">)</span><span class="Token ExpressionStatement HighlightLine SEMI">;</span><span class="Token ExpressionStatement HighlightLine LF">
</span><span class="Token ExpressionStatement SPACE">    </span><span class="Token Keyword JumpStatement RETURN">return</span><span class="Token Keyword JumpStatement SPACE"> </span><span class="Token Constant PrimaryExpression NUMBER">0</span><span class="Token JumpStatement SEMI">;</span><span class="Token JumpStatement LF">
</span><span class="Token CompoundStatement Function BraceDepth-0 RCURLY_BRACE">}</span></code></pre><p>只需要在 parse.to_html() 中传入两个变量即可</p><pre class="language-python"><code><span class="Token IMPORT">import</span><span class="Token SPACE"> </span><span class="Token ImportLibName ID">syntaxlight</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token ID">result</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token ID">syntaxlight</span><span class="Token DOT">.</span><span class="Token FunctionCall ID">parse_file</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token STR">&quot;a.c&quot;</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token LF">
</span><span class="Token IF">if</span><span class="Token SPACE"> </span><span class="Token NOT">not</span><span class="Token SPACE"> </span><span class="Token ID">result</span><span class="Token DOT">.</span><span class="Token ID">success</span><span class="Token COLON">:</span><span class="Token LF">
</span><span class="Token SPACE">    </span><span class="Token FunctionCall ID">print</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token ID">result</span><span class="Token DOT">.</span><span class="Token ID">error</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token LF">
</span><span class="Token LF">
</span><span class="Token FunctionCall ID">print</span><span class="Token BraceDepth-0 LPAREN">(</span><span class="Token ID">result</span><span class="Token DOT">.</span><span class="Token ID">parser</span><span class="Token DOT">.</span><span class="Token FunctionCall ID">to_html</span><span class="Token BraceDepth-1 LPAREN">(</span><span class="Token ID">hightlight_lines</span><span class="Token SPACE"> </span><span class="Token ASSIGN">=</span><span class="Token SPACE"> </span><span class="Token BraceDepth-2 LSQUAR_PAREN">[</span><span class="Token NUMBER">4</span><span class="Token BraceDepth-2 RSQUAR_PAREN">]</span><span class="Token BraceDepth-1 RPAREN">)</span><span class="Token BraceDepth-0 RPAREN">)</span><span class="Token SPACE"> </span><span class="Token COMMENT"># 高亮第四行</span></code></pre><h3 id="h3-7">ast</h3><p>同时会生成解析得到的抽象语法树 ast.dot, Vscode 用户可以下载 <a href="https://marketplace.visualstudio.com/items?itemName=tintinweb.graphviz-interactive-preview" target="_blank">graphviz-interactive-preview</a> 插件预览, 或者安装 <a href="https://graphviz.org/" target="_blank">graphviz</a> 之后使用下面的命令导出 png</p><pre class="language-shell"><code><span class="Token ID">dot</span><span class="Token SPACE"> </span><span class="Token OPTION">-Tpng</span><span class="Token SPACE"> </span><span class="Token ID">./ast.dot</span><span class="Token SPACE"> </span><span class="Token OPTION">-o</span><span class="Token SPACE"> </span><span class="Token ID">ast.png</span></code></pre></div>
                <script>
                document.addEventListener('DOMContentLoaded', function() {
                    var markdownBody = document.querySelector('.markdown-body');
                    var giscusDiv = markdownBody.querySelector('.giscus');
                    var referenceHtml = `<div class="references-tabs-container">
<div class="references-tabs-nav">
<button class="references-tab-btn active" data-tab="references-out">本文引用</button>
</div>
<div class="references-tabs-content">
<div class="references-tab-pane active" id="references-out">
<ul class="reference-list">
<li><a href="../../用户手册/自定义颜色"><span class="reference-icon" aria-hidden="true"></span><span class="reference-title">自定义颜色</span></a></li>
<li><a href="../../用户手册/全部文法支持"><span class="reference-icon" aria-hidden="true"></span><span class="reference-title">全部文法支持</span></a></li>
</ul>
</div>
</div>
</div>`;
                    
                    if (giscusDiv) {
                        giscusDiv.insertAdjacentHTML('beforebegin', referenceHtml);
                    } else {
                        markdownBody.insertAdjacentHTML('beforeend', referenceHtml);
                    }
                    
                    // 添加选项卡切换功能
                    setTimeout(function() {
                        var tabButtons = document.querySelectorAll('.references-tab-btn');
                        var tabPanes = document.querySelectorAll('.references-tab-pane');
                        
                        tabButtons.forEach(function(button) {
                            button.addEventListener('click', function() {
                                var targetTab = this.getAttribute('data-tab');
                                
                                // 移除所有active类
                                tabButtons.forEach(btn => btn.classList.remove('active'));
                                tabPanes.forEach(pane => pane.classList.remove('active'));
                                
                                // 添加active类到当前选中的选项卡
                                this.classList.add('active');
                                var targetPane = document.getElementById(targetTab);
                                if (targetPane) {
                                    targetPane.classList.add('active');
                                }
                            });
                        });
                    }, 100);
                });
                </script>
                
    <div id="dir-tree-placeholder"></div>
    <div class="zood"><a class="" href="https://github.com/luzhixing12345/zood" target="_blank">zood</a></div>
    <script type="text/javascript" src="../../../js/dir_tree_toggle.js"></script><script type="text/javascript" src="../../../js/copy_code.js"></script><script type="text/javascript" src="../../../js/navigator.js"></script><script type="text/javascript" src="../../../js/picture_preview.js"></script><script type="text/javascript" src="../../../js/global_js_configuration.js"></script>
<script>
    const ws = new WebSocket("ws://127.0.0.1:8765");
    ws.onmessage = (event) => {
        if (event.data === "reload") location.reload();
    };
</script>
    
</body>

</html>